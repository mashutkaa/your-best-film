{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://yourbestfilm/./src/js/bestFilms.js","webpack://yourbestfilm/./src/js/filmsSearch/filmsSearch.js","webpack://yourbestfilm/./src/js/filmsSearch/isOpenNewFilters.js","webpack://yourbestfilm/./src/js/filmsSearch/newFilters.js","webpack://yourbestfilm/webpack/bootstrap","webpack://yourbestfilm/webpack/runtime/define property getters","webpack://yourbestfilm/webpack/runtime/hasOwnProperty shorthand","webpack://yourbestfilm/webpack/runtime/make namespace object","webpack://yourbestfilm/./src/js/script.js"],"sourcesContent":["const bestFilms = () => {\r\n  if (window.location.search.includes(\"emailConfirmed=true\")) {\r\n      window.location.reload();\r\n  }\r\n\r\n  const getBestMovies = () => {\r\n      const url = `http://localhost:3000/movies/getPopularMovies`;\r\n\r\n      fetch(url)\r\n          .then((response) => response.json())\r\n          .then((data) => {\r\n              if (data) {\r\n                  console.log(data);\r\n                  handleBestMovies(data);\r\n              }\r\n          })\r\n          .catch((error) => console.error(\"Помилка:\", error));\r\n  };\r\n\r\n  function checkDateOnLoading() {\r\n      const now = new Date();\r\n      if (now.getDate() === 1) {\r\n          getBestMovies();\r\n      }\r\n  }\r\n\r\n  function scheduleNextCheck() {\r\n      const now = new Date();\r\n      const nextMidnight = new Date(now);\r\n      nextMidnight.setHours(24, 0, 0, 0);\r\n\r\n      const timeUntilMidnight = nextMidnight - now;\r\n\r\n      setTimeout(() => {\r\n          checkDateOnLoading();\r\n          setInterval(checkDateOnLoading, 24 * 60 * 60 * 1000);\r\n      }, timeUntilMidnight);\r\n  }\r\n\r\n  checkDateOnLoading();\r\n\r\n  scheduleNextCheck();\r\n\r\n  getBestMovies();\r\n\r\n  const handleBestMovies = (movies) => {\r\n      movies.forEach((movie, index) => {\r\n          const { title, description, rating, poster } = movie;\r\n\r\n          let descriptionMovie = description;\r\n          if (descriptionMovie.length > 350) {\r\n              descriptionMovie = description.slice(0, 320) + \"...\";\r\n          }\r\n\r\n          let film = document.getElementById(`${index + 1}-best-film`);\r\n          film.style.backgroundImage = `url(\"${poster}\")`;\r\n\r\n          let newDescr = document.createElement(\"div\");\r\n          newDescr.classList.add(index <= 2 ? \"dropright\" : \"dropleft\");\r\n          newDescr.innerHTML = `\r\n                  <div class=\"text-content\">\r\n                      <h4>${title}</h4>\r\n                      <p class=\"best-film__descr\">${descriptionMovie}</p>\r\n                      <p class=\"best-film__raiting\">${rating.toFixed(\r\n                          1\r\n                      )}/10</p>\r\n                  </div>\r\n          `;\r\n\r\n          film.insertAdjacentElement(\"afterend\", newDescr);\r\n      });\r\n  };\r\n};\r\nconst carousel = document.querySelector(\".best-films__container\");\r\nconst rightArrow = document.querySelector(\".right-arrow\");\r\nconst leftArrow = document.querySelector(\".left-arrow\");\r\nleftArrow.addEventListener(\"click\", () => {\r\n  carousel.scrollBy({\r\n    left: -130,\r\n  });\r\n});\r\nrightArrow.addEventListener(\"click\", () => {\r\n  carousel.scrollBy({\r\n    left: 130,\r\n  });\r\n});\r\n\r\n\r\n\r\nexport default bestFilms;","import newFilters from \"./newFilters\";\r\nimport isOpenNewFilters from \"./isOpenNewFilters\";\r\n\r\nconst filmsSearch = () => {\r\n    const shortQuestions = [\r\n        {\r\n            type: \"radio-mood\",\r\n            question: \"Який настрій у вас сьогодні?\",\r\n            answers: [\"Чудовий\", \"Нудно\", \"Сумний\", \"Втомлений\"],\r\n            img: [\r\n                \"img/5307603774627505126 1@2x.png\",\r\n                \"img/5307603774627505123 1@2x.png\",\r\n                \"img/5307603774627505125 1@2x.png\",\r\n                \"img/5307603774627505124 1@2x.png\",\r\n            ],\r\n            needs: true,\r\n        },\r\n\r\n        {\r\n            type: \"range\",\r\n            question: \"Оберіть тривалість фільму\",\r\n            answers: [\"0 хв\", \"1 год.\", \"3 год.\", \"5 год.\", \"7 год.\"],\r\n            needs: true,\r\n        },\r\n\r\n        {\r\n            type: \"radio\",\r\n            question: \"З ким переглядатимете фільм?\",\r\n            answers: [\r\n                \"Наодинці\",\r\n                \"З друзями\",\r\n                \"З другою половинкою\",\r\n                \"З родиною (разом з дітьми)\",\r\n            ],\r\n            needs: true,\r\n        },\r\n\r\n        {\r\n            type: \"input-fields\",\r\n            question: \"Роки виходу фільму\",\r\n            answers: [\"Не раніше\", \"Не пізніше\"],\r\n            placeholder: [\"1950\", \"Поточний рік\"],\r\n            needs: false,\r\n        },\r\n\r\n        {\r\n            type: \"checkbox\",\r\n            question: \"У якому жанрі шукатимемо фільм?\",\r\n            answers:\r\n                \"Драма, комедія, бойовик, трилер, жахи, фантастика, фентезі, пригоди, мелодрама, документальний фільм, вестерн, історичний фільм, кримінал, мюзикл, анімаційний фільм, спортивний фільм, сімейний фільм, комедійний бойовик, науково-фантастичний трилер, романтична фантастика, пригодницьке фентезі\",\r\n            default: \"Вибрати жанр\",\r\n            needs: false,\r\n        },\r\n    ];\r\n\r\n    let isModalOpen;\r\n\r\n    const modalTrigger = document.querySelectorAll(\"[data-modal]\"),\r\n        modal = document.querySelector(\".modal\"),\r\n        modalOverlay = document.querySelector(\".modal-overlay\"),\r\n        modalCloseBtn = document.querySelector(\"[data-close]\");\r\n\r\n    //відкрити модалку\r\n    function openModal() {\r\n        isModalOpen = true;\r\n        modal.classList.add(\"show\");\r\n        modalOverlay.classList.add(\"show\");\r\n        document.body.style.overflow = \"hidden\"; // Заблокувати прокручування\r\n    }\r\n    // Закрити модалку\r\n    function closeModal() {\r\n        isModalOpen = false;\r\n        modal.classList.remove(\"show\");\r\n        modalOverlay.classList.remove(\"show\");\r\n        document.body.style.overflow = \"\"; // Відновити прокручування\r\n\r\n        // Показати опитування та прибрати спінер\r\n        const formWrapper = document.querySelector(\".form-wrapper\");\r\n        formWrapper.classList.remove(\"hide\");\r\n\r\n        const spinnerContainer = document.querySelector(\".spinner-container\");\r\n        if (spinnerContainer) {\r\n            spinnerContainer.remove();\r\n        }\r\n\r\n        showQuestion(shortQuestions);\r\n    }\r\n\r\n    const formContainer = document.querySelector(\".form\");\r\n\r\n    const submitButton = document.createElement(\"button\");\r\n    submitButton.classList.add(\"button\", \"submit-btn\");\r\n    submitButton.type = \"submit\";\r\n    submitButton.textContent = \"Отримати добірку фільмів\";\r\n\r\n    // Обробники подій для кнопок\r\n    modalTrigger.forEach((btn) => {\r\n        btn.addEventListener(\"click\", openModal);\r\n    });\r\n\r\n    modalCloseBtn.addEventListener(\"click\", closeModal);\r\n\r\n    // Закриття модалки при натисканні на оверлей\r\n    modalOverlay.addEventListener(\"click\", closeModal);\r\n\r\n    // Закриття модалки при натисканні клавіші Escape\r\n    document.addEventListener(\"keydown\", (e) => {\r\n        if (e.code === \"Escape\" && modal.classList.contains(\"show\")) {\r\n            closeModal();\r\n        }\r\n    });\r\n    // ---------------------------- Модальне вікно\r\n\r\n    // Коротке опитування\r\n\r\n    formContainer.innerHTML = \"\";\r\n\r\n    showQuestion(shortQuestions);\r\n\r\n    // Показати запитання\r\n    function showQuestion(questions) {\r\n        formContainer.innerHTML = \"\";\r\n\r\n        console.log(\"showQuestion\");\r\n\r\n        questions.forEach((element, index) => {\r\n            const headerContainer = document.createElement(\"div\");\r\n            headerContainer.classList.add(\"question-wrapper\");\r\n\r\n            //номер запитання\r\n            const numberTemplate = `<div class=\"question-number-container\">\r\n                    <span class=\"question-number\">${index + 1}</span>\r\n                </div>      `;\r\n            headerContainer.innerHTML = numberTemplate;\r\n\r\n            const questionContainer = document.createElement(\"div\");\r\n            questionContainer.classList.add(\"question-item\");\r\n\r\n            // перевірка чи обов'язкове запитання та виведення назви запитання\r\n            let questionTemplate = \"\";\r\n\r\n            if (element.needs) {\r\n                questionTemplate += `<p class=\"required-field\">*поле обов’язкове</p>`;\r\n            }\r\n            questionTemplate += `<p class=\"question\">${element.question}</p>`;\r\n\r\n            questionContainer.innerHTML = questionTemplate;\r\n\r\n            //  відповіді\r\n            switch (element[\"type\"]) {\r\n                case \"radio-mood\": {\r\n                    const { img, answers } = element;\r\n                    const lengthArray = answers.length;\r\n\r\n                    const moodWrapper = document.createElement(\"div\");\r\n                    questionContainer.appendChild(moodWrapper);\r\n                    moodWrapper.classList = \"mood-options\";\r\n\r\n                    let isMoodDefault;\r\n                    for (let i = 0; i < lengthArray; i++) {\r\n                        const savedMood = localStorage.getItem(\"radioMood\");\r\n                        if (savedMood) {\r\n                            isMoodDefault = answers[i] === savedMood;\r\n                        } else {\r\n                            isMoodDefault = answers[i] === \"Чудовий\";\r\n                        }\r\n                        const answerTemplate = `\r\n                            <label class=\"mood-option\" >\r\n                                <input type=\"radio\" name=\"mood\" value=\"${\r\n                                    answers[i]\r\n                                }\" ${\r\n                            isMoodDefault ? \"checked\" : \"\"\r\n                        } tabindex=\"0\" />\r\n                                <div class=\"icon tabQuestion\" tabindex=\"0\">\r\n                                    <img src=\"${img[i]}\" alt=\"\" />\r\n                                </div>\r\n                                <span>${answers[i]}</span>\r\n                            </label>`;\r\n                        moodWrapper.innerHTML += answerTemplate;\r\n                    }\r\n\r\n                    break;\r\n                }\r\n\r\n                case \"radio\": {\r\n                    let isPartnerDefault;\r\n                    for (let answerText of element.answers) {\r\n                        const savedValue = localStorage.getItem(\"radio\");\r\n                        if (savedValue) {\r\n                            isPartnerDefault = answerText === savedValue;\r\n                        } else {\r\n                            isPartnerDefault = answerText === \"Наодинці\";\r\n                        }\r\n\r\n                        const answerTemplate = `\r\n                            <label class=\"radio-button-label tabQuestion\" tabindex=\"0\">\r\n                                <input class=\"radio-button-field \" type=\"radio\" name=\"movie-partner\" value=\"${answerText}\" ${\r\n                            isPartnerDefault ? \"checked\" : \"\"\r\n                        }  tabindex=\"0\" />\r\n                                <span>${answerText}</span>\r\n                            </label>`;\r\n                        questionContainer.innerHTML += answerTemplate;\r\n                    }\r\n                    break;\r\n                }\r\n\r\n                case \"range\": {\r\n                    const sliderTemplate = `   <div class = \"slider-group\">\r\n                            <input id=\"lower-slider\" class=\"lower-range-slider tabQuestion\" type=\"range\" min=\"0\" max=\"7\" step=\"1\" value=\"0\" required tabindex=\"0\"/>\r\n                            <input id=\"upper-slider\" class=\"upper-range-slider tabQuestion\" type=\"range\" min=\"0\" max=\"7\" step=\"1\" value=\"7\" required tabindex=\"0\"/>\r\n                        </div>\r\n                        <div class=\"slider-labels\"></div>`;\r\n                    questionContainer.innerHTML += sliderTemplate;\r\n\r\n                    const sliderContainer =\r\n                        questionContainer.querySelector(\".slider-labels\");\r\n\r\n                    element.answers.forEach((labelText, index) => {\r\n                        const labelElement = document.createElement(\"span\");\r\n                        labelElement.textContent = labelText;\r\n\r\n                        sliderContainer.appendChild(labelElement);\r\n                    });\r\n\r\n                    break;\r\n                }\r\n\r\n                case \"input-fields\": {\r\n                    const answerArray = element.answers;\r\n                    const placeholderArray = element.placeholder;\r\n                    const lengthArray = answerArray.length;\r\n\r\n                    const savedValues = [];\r\n\r\n                    // Спочатку відновлюємо збережені значення з localStorage\r\n                    for (let i = 0; i < lengthArray; i++) {\r\n                        const savedValue = localStorage.getItem(\r\n                            `input-field-${i}`,\r\n                        );\r\n                        savedValues[i] = savedValue ? savedValue : \"\"; // Якщо значення є, зберігаємо його, якщо ні - порожній рядок\r\n                    }\r\n\r\n                    // Створюємо інпут-поля\r\n                    for (let i = 0; i < lengthArray; i++) {\r\n                        const answerTemplate = `\r\n             <p name=\"error-year-${i}\" class=\"error-message-container\"></p>\r\n              <label class=\"input-field-label\">\r\n                <span>${answerArray[i]}</span>\r\n                <input class=\"text-input-field tabQuestion\" type=\"text\" placeholder=\"${placeholderArray[i]}\" name=\"year-min-${i}\" pattern=\"\\\\d{4}\"\r\n                      value=\"${savedValues[i]}\" tabindex=\"0\" /> <!-- Підставляємо значення із savedValues -->\r\n              </label>\r\n            `;\r\n\r\n                        questionContainer.innerHTML += answerTemplate;\r\n                    }\r\n\r\n                    break;\r\n                }\r\n                case \"checkbox\": {\r\n                    const options = element.answers\r\n                        .split(\", \")\r\n                        .map((e) => e[0].toUpperCase() + e.slice(1));\r\n\r\n                    const checkboxWrapper = document.createElement(\"div\");\r\n                    checkboxWrapper.className = \"checkbox-options\";\r\n\r\n                    const savedOptions =\r\n                        localStorage.getItem(\"selectedOptions\");\r\n                    const savedOptionsArray = savedOptions\r\n                        ? savedOptions.split(\",\")\r\n                        : [];\r\n\r\n                    options.forEach((option) => {\r\n                        const isChecked = savedOptionsArray.includes(option);\r\n\r\n                        const answerTemplate = ` \r\n              <label class=\"checkbox-button-label tabQuestion\" tabindex=\"0\">\r\n                <input class=\"checkbox-button-field \" type=\"checkbox\" name=\"genre\" value=\"${option}\" ${\r\n                            isChecked ? \"checked\" : \"\"\r\n                        } tabindex=\"0\" />\r\n                <span>${option}</span>\r\n              </label>`;\r\n                        checkboxWrapper.innerHTML += answerTemplate;\r\n                    });\r\n\r\n                    questionContainer.appendChild(checkboxWrapper);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            formContainer.appendChild(headerContainer);\r\n            headerContainer.appendChild(questionContainer);\r\n        });\r\n\r\n        formContainer.appendChild(submitButton);\r\n    }\r\n\r\n    let result = [];\r\n\r\n    // local Storage\r\n\r\n    const radioImgs = document.querySelectorAll(\r\n        '.mood-option input[type=\"radio\"]',\r\n    ); // Отримуємо всі радіокнопки\r\n    radioImgs.forEach((radio) => {\r\n        radio.addEventListener(\"change\", (event) => {\r\n            const selectedMood = event.target.value; // Отримуємо значення вибраного елемента\r\n            localStorage.setItem(\"radioMood\", selectedMood);\r\n        });\r\n    });\r\n\r\n    const radioFields = document.querySelectorAll(\".radio-button-field\");\r\n    radioFields.forEach((radio) => {\r\n        radio.addEventListener(\"change\", (event) => {\r\n            const selectedRadio = event.target.value;\r\n            localStorage.setItem(\"radio\", selectedRadio);\r\n        });\r\n    });\r\n\r\n    const inputFields = document.querySelectorAll(\".text-input-field\");\r\n    inputFields.forEach((input, index) => {\r\n        input.addEventListener(\"input\", () => {\r\n            localStorage.setItem(`input-field-${index}`, input.value); // Зберігаємо значення у localStorage\r\n        });\r\n    });\r\n\r\n    const checkboxFields = document.querySelectorAll(\".checkbox-button-field\");\r\n    checkboxFields.forEach((checkbox) => {\r\n        checkbox.addEventListener(\"change\", () => {\r\n            const selectedOptions = [];\r\n            checkboxFields.forEach((checkbox) => {\r\n                if (checkbox.checked) {\r\n                    selectedOptions.push(checkbox.value); // Додаємо вибрані значення в масив\r\n                }\r\n            });\r\n            localStorage.setItem(\"selectedOptions\", selectedOptions.join(\",\")); // Зберігаємо вибрані опції як рядок, розділений комами\r\n        });\r\n    });\r\n\r\n    const lowerSlider = document.querySelector(\"#lower-slider\");\r\n    const upperSlider = document.querySelector(\"#upper-slider\");\r\n\r\n    lowerSlider.addEventListener(\"input\", () => {\r\n        localStorage.setItem(\"lowerSliderValue\", lowerSlider.value); // Зберігаємо значення нижнього слайдера\r\n    });\r\n\r\n    upperSlider.addEventListener(\"input\", () => {\r\n        localStorage.setItem(\"upperSliderValue\", upperSlider.value); // Зберігаємо значення верхнього слайдера\r\n    });\r\n\r\n    // повідомлення про статус обробки відповідей користувача\r\n    const message = {\r\n        loading: \"../src/icons/spinner.svg\",\r\n        errorInLoading: \"Вибачте, на жаль, сталася помилка\",\r\n    };\r\n\r\n    // повідомлення про помилку\r\n\r\n    function errorMessage() {\r\n        const formWrapper = document.querySelector(\".form-wrapper\");\r\n        formWrapper.classList.add(\"hide\"); // Ховаємо опитування\r\n\r\n        const modalContainer = document.querySelector(\".modal-wrapper\");\r\n\r\n        // контейнер для помилки\r\n        const errorContainer = document.createElement(\"div\");\r\n        errorContainer.classList.add(\"question-item\");\r\n        const errorTemplate = `<p class=\"question\">${message.errorInLoading}</p>`;\r\n        errorContainer.innerHTML += errorTemplate;\r\n\r\n        modalContainer.appendChild(errorContainer);\r\n\r\n        modalCloseBtn.addEventListener(\"click\", () => {\r\n            errorContainer.remove();\r\n            formWrapper.classList.remove(\"hide\");\r\n            closeModal();\r\n            showQuestion(shortQuestions);\r\n        });\r\n    }\r\n\r\n    // запит до gpt\r\n    async function getMovieRecommendations(sandbox = true) {\r\n        console.log(\"Відправка запиту...\");\r\n\r\n        // Створити контейнер для спінера\r\n        const formWrapper = document.querySelector(\".form-wrapper\");\r\n        formWrapper.classList.add(\"hide\");\r\n\r\n        //const modalContainer = document.querySelector(\".modal-wrapper\");\r\n        const modalContainer = document.querySelector(\".modal\");\r\n\r\n        // Створити контейнер для спінера\r\n        const spinnerContainer = document.createElement(\"div\");\r\n        spinnerContainer.classList.add(\"spinner-container\");\r\n\r\n        // Додати спінер\r\n        const spinnerImg = document.createElement(\"img\");\r\n        spinnerImg.src = message.loading;\r\n        spinnerImg.alt = \"Loading...\";\r\n        spinnerContainer.appendChild(spinnerImg);\r\n\r\n        // Додати спінер у модальне вікно\r\n        modalContainer.appendChild(spinnerContainer);\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        try {\r\n            const requestBody = {\r\n                result: result,\r\n                sandbox: sandbox,\r\n            };\r\n\r\n            var requestBodyToken = token ? `Bearer ${token}` : null;\r\n\r\n            const response = await fetch(\r\n                \"http://localhost:3000/movies/getMoviesRecommendations\",\r\n                {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: requestBodyToken,\r\n                    },\r\n                    body: JSON.stringify(requestBody),\r\n                },\r\n            );\r\n\r\n            // Якщо модальне вікно було закрите та спінер не крутиться то зупинити запит\r\n            if (!spinnerContainer.isConnected) {\r\n                console.log(\"Обробка запиту зупинена.\");\r\n                return;\r\n            }\r\n\r\n            if (!response.ok) {\r\n                const errorText = await response.text();\r\n                console.log(\"Error: \" + errorText);\r\n                if (errorText === \"Request limit exceeded.\") {\r\n                    alert(\"Ви перевищили ліміт запитів. Спробуйте пізніше.\");\r\n                }\r\n                console.log(errorText === \"Request limit exceeded.\");\r\n                errorMessage();\r\n                return;\r\n            }\r\n            // recommendations - масив з об'єктами\r\n            const recommendations = await response.json();\r\n            closeModal();\r\n            // Збереження рекомендацій у localStorage\r\n            localStorage.setItem(\r\n                \"recommendations\",\r\n                JSON.stringify(recommendations),\r\n            );\r\n            // Відкриття нової сторінки\r\n            window.location.href = \"result-page.html\";\r\n        } catch (error) {\r\n            console.error(\"Помилка при завантаженні:\", error);\r\n            errorMessage();\r\n            return;\r\n        } finally {\r\n            if (spinnerContainer.isConnected) {\r\n                spinnerContainer.remove();\r\n            }\r\n        }\r\n    }\r\n\r\n    function sendResults(questions) {\r\n        result = [];\r\n\r\n        questions.forEach((element) => {\r\n            const { type, question } = element;\r\n\r\n            let answer = \"\";\r\n\r\n            switch (type) {\r\n                case \"radio-mood\": {\r\n                    const getAnswer =\r\n                        document.querySelector('input[name=\"mood\"]:checked')\r\n                            ?.value || null;\r\n\r\n                    answer = `${getAnswer}`;\r\n                    break;\r\n                }\r\n\r\n                case \"range\": {\r\n                    const answerLower =\r\n                        document.querySelector(\"#lower-slider\").value;\r\n                    const answerUpper =\r\n                        document.querySelector(\"#upper-slider\").value;\r\n\r\n                    answer = `Від ${answerLower} до ${answerUpper} годин`;\r\n\r\n                    break;\r\n                }\r\n\r\n                case \"radio\": {\r\n                    const getAnswer =\r\n                        document.querySelector(\r\n                            'input[name=\"movie-partner\"]:checked',\r\n                        )?.value || null;\r\n\r\n                    answer = `${getAnswer}`;\r\n                    break;\r\n                }\r\n\r\n                case \"input-fields\": {\r\n                    const minYearDefault = 1950;\r\n                    const maxYearDefault = new Date().getFullYear();\r\n                    const answerMin =\r\n                        document.querySelector('input[name=\"year-min-0\"]')\r\n                            ?.value || minYearDefault;\r\n                    const answerMax =\r\n                        document.querySelector('input[name=\"year-min-1\"]')\r\n                            ?.value || maxYearDefault;\r\n\r\n                    answer = `Не раніше: ${answerMin} року, не пізніше: ${answerMax} року`;\r\n                    break;\r\n                }\r\n\r\n                case \"checkbox\": {\r\n                    const selectedGenres = Array.from(\r\n                        document.querySelectorAll(\r\n                            'input[name=\"genre\"]:checked',\r\n                        ),\r\n                    ).map((checkbox) => checkbox.value);\r\n\r\n                    if (selectedGenres.length === 0) {\r\n                        answer = element.answers\r\n                            .split(\", \")\r\n                            .map((e) => e[0].toUpperCase() + e.slice(1))\r\n                            .join(\", \");\r\n                    } else {\r\n                        answer = selectedGenres.join(\", \");\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const newUserAnswer = {\r\n                question: question,\r\n                answer: answer,\r\n            };\r\n            result.push(newUserAnswer);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    const errorInputMin = document.querySelector(' p[name=\"error-year-0\"]');\r\n    const errorInputMax = document.querySelector(' p[name=\"error-year-1\"]');\r\n    const yearInputMin = document.querySelector('input[name=\"year-min-0\"]');\r\n    const yearInputMax = document.querySelector('input[name=\"year-min-1\"]');\r\n\r\n    // ВАЛІДАЦІЯ\r\n    function validateYears() {\r\n        const yearMin = yearInputMin.value.trim();\r\n        const yearMax = yearInputMax.value.trim();\r\n        const currentYear = new Date().getFullYear();\r\n\r\n        let isValid = true;\r\n\r\n        errorInputMin.style.display = \"none\";\r\n        errorInputMax.style.display = \"none\";\r\n        yearInputMin.style.border = \"1px solid white\";\r\n        yearInputMax.style.border = \"1px solid white\";\r\n\r\n        if (yearInputMin.validity.valid && yearInputMax.validity.valid) {\r\n            errorInputMin.style.display = \"none\";\r\n            errorInputMax.style.display = \"none\";\r\n            yearInputMin.style.border = \"1px solid white\";\r\n            yearInputMax.style.border = \"1px solid white\";\r\n            isValid = true;\r\n        }\r\n\r\n        // Перевірка: чи введене значення містить рівно 4 цифри\r\n        if (Number(yearMin).toString().length !== 4) {\r\n            errorInputMin.style.display = \"block\";\r\n            yearInputMin.style.border = \"1px solid red\";\r\n            errorInputMin.textContent = \"Введіть правильний рік\";\r\n            isValid = false;\r\n        }\r\n        if (Number(yearMax).toString().length !== 4) {\r\n            errorInputMax.style.display = \"block\";\r\n            yearInputMax.style.border = \"1px solid red\";\r\n            errorInputMax.textContent = \"Введіть правильний рік\";\r\n            isValid = false;\r\n        }\r\n\r\n        if (isNaN(yearMin)) {\r\n            errorInputMin.style.display = \"block\";\r\n            errorInputMin.textContent = \"Введіть числове значення\";\r\n            yearInputMin.style.border = \"1px solid red\";\r\n            isValid = false;\r\n        }\r\n        if (isNaN(yearMax)) {\r\n            errorInputMax.style.display = \"block\";\r\n            errorInputMax.textContent = \"Введіть числове значення\";\r\n            yearInputMax.style.border = \"1px solid red\";\r\n            isValid = false;\r\n        }\r\n\r\n        // Перевірка: чи порядок років коректний\r\n        if (Number(yearMin) > Number(yearMax)) {\r\n            errorInputMin.style.display = \"block\";\r\n            errorInputMax.style.display = \"block\";\r\n            yearInputMin.style.border = \"1px solid red\";\r\n            yearInputMax.style.border = \"1px solid red\";\r\n            errorInputMin.textContent = \"Перший рік має бути менший за другий\";\r\n            isValid = false;\r\n        }\r\n\r\n        // Перевірка: чи відповідають роки заданим межам\r\n        if (Number(yearMin) < 1950) {\r\n            errorInputMin.style.display = \"block\";\r\n            yearInputMin.style.border = \"1px solid red\";\r\n            errorInputMin.textContent = \"Рік не може бути меншим за 1950\";\r\n            isValid = false;\r\n        }\r\n        if (Number(yearMax) > currentYear) {\r\n            errorInputMax.style.display = \"block\";\r\n            yearInputMax.style.border = \"1px solid red\";\r\n            errorInputMax.textContent = `Рік не може бути більше ${currentYear} року`;\r\n            isValid = false;\r\n        }\r\n        if (yearMin === \"\") {\r\n            yearInputMin.value = Number(1950);\r\n            errorInputMin.style.display = \"none\";\r\n            yearInputMin.style.border = \"1px solid white\";\r\n            if (validateYears()) {\r\n                isValid = true;\r\n            }\r\n        }\r\n        if (yearMax === \"\") {\r\n            yearInputMax.value = currentYear;\r\n            errorInputMax.style.display = \"none\";\r\n            yearInputMax.style.border = \"1px solid white\";\r\n            if (validateYears()) {\r\n                isValid = true;\r\n            }\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    // Валідація повзунків\r\n    const minSlider = document.querySelector(\"#lower-slider\");\r\n    const maxSlider = document.querySelector(\"#upper-slider\");\r\n\r\n    const minGap = 1;\r\n\r\n    minSlider.addEventListener(\"input\", () => {\r\n        if (parseInt(minSlider.value) >= parseInt(maxSlider.value) - minGap) {\r\n            minSlider.value = parseInt(maxSlider.value) - minGap;\r\n        }\r\n    });\r\n    maxSlider.addEventListener(\"input\", () => {\r\n        if (parseInt(maxSlider.value) <= parseInt(minSlider.value) + minGap) {\r\n            maxSlider.value = parseInt(minSlider.value) + minGap;\r\n        }\r\n    });\r\n\r\n    const isOpenNewFiltersModalWindow = document.querySelector(\r\n        \"#isOpenNewFiltersModalWindow\",\r\n    );\r\n    const surveyModalWrapper = document.querySelector(\"#surveyModal\");\r\n\r\n    submitButton.addEventListener(\"click\", (event) => {\r\n        event.preventDefault();\r\n\r\n        let results = [];\r\n        if (validateYears()) {\r\n            results = sendResults(shortQuestions);\r\n\r\n            let isOpen = true;\r\n\r\n            formContainer.innerHTML = `\r\n                <div class=\"question-wrapper\">\r\n                    <div class=\"question-item-add\">\r\n                        <p class=\"question-add\" id=\"isOpenNewFilters\">Хочете ще більш персоналізовану добірку?</p>\r\n                        <div class=\"radio-button-label-wrapper\"> \r\n                            <label class=\"radio-button-label-add tabQuestion\" tabindex=\"0\">\r\n                            <input class=\"radio-button-field\" type=\"radio\" name=\"continue-or-send-results\" value=\"Так\" id=\"true-story-yes\" tabindex=\"0\" />\r\n                            <span>Так</span>\r\n                        </label>\r\n                        <label class=\"radio-button-label-add tabQuestion\" tabindex=\"0\">\r\n                            <input class=\"radio-button-field\" type=\"radio\" name=\"continue-or-send-results\" value=\"Ні\" id=\"true-story-no\" tabindex=\"0\" />\r\n                            <span>Ні</span>\r\n                        </label>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            `;\r\n\r\n            document.addEventListener(\"change\", (event) => {\r\n                if (event.target.name === \"continue-or-send-results\") {\r\n                    if (event.target.value === \"Так\") {\r\n                        console.log(\r\n                            \"Користувач обрав 'Так'. Виконуємо певні дії...\",\r\n                        );\r\n                        formContainer.innerHTML = `\r\n                        <div class=\"question-wrapper\">\r\n                            <div class=\"question-number-container\">\r\n                                <span class=\"question-number\">1</span>\r\n                            </div>\r\n                            <div class=\"question-item\">\r\n                                <p class=\"question\" id=\"question-1\">Де відбуваються події?</p>\r\n                                <label class=\"dropdown-label\">\r\n                                    <select class=\"dropdown-select tabQuestion\" name=\"location\" id=\"location\" tabindex=\"0\">\r\n                                        <option value=\"Місто\">Місто</option>\r\n                                        <option value=\"Природа\">Природа</option>\r\n                                        <option value=\"Дикі місця\">Дикі місця</option>\r\n                                        <option value=\"Космос\">Космос</option>\r\n                                    </select>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"question-wrapper\">\r\n                            <div class=\"question-number-container\">\r\n                                <span class=\"question-number\">2</span>\r\n                            </div>\r\n                            <div class=\"question-item\">\r\n                                <p class=\"question\" id=\"question-2\">Наскільки складний сюжет хотіли б?</p>\r\n                                <label class=\"radio-button-label tabQuestion\" tabindex=\"0\">\r\n                                    <input class=\"radio-button-field\" type=\"radio\" name=\"plot-complexity\" value=\"Більш легкий та простий\" id=\"plot-easy\" tabindex=\"0\" />\r\n                                    <span>Більш легкий та простий</span>\r\n                                </label>\r\n                                <label class=\"radio-button-label tabQuestion\" tabindex=\"0\">\r\n                                    <input class=\"radio-button-field\" type=\"radio\" name=\"plot-complexity\" value=\"Більш заплутаний та глибокий\" id=\"plot-complex\" tabindex=\"0\" />\r\n                                    <span>Більш заплутаний та глибокий</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"question-wrapper\">\r\n                            <div class=\"question-number-container\">\r\n                                <span class=\"question-number\">3</span>\r\n                            </div>\r\n                            <div class=\"question-item\">\r\n                                <p class=\"question\" id=\"question-3\">Який часовий проміжок подій?</p>\r\n                                <div class=\"slider-group\">\r\n                                    <input id=\"time-slider\" class=\"range-slider tabQuestion\" type=\"range\" min=\"0\" max=\"2\" step=\"1\" value=\"1\" required tabindex=\"0\" />\r\n                                </div>\r\n                                <div class=\"slider-labels-add\">\r\n                                    <span>Минуле</span>\r\n                                    <span class=\"slider-labels-add-item\">Теперішнє</span>\r\n                                    <span>Майбутнє</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"question-wrapper\">\r\n                            <div class=\"question-number-container\">\r\n                                <span class=\"question-number\">4</span>\r\n                            </div>\r\n                            <div class=\"question-item\">\r\n                                <p class=\"question\" id=\"question-4\">Фільм засновано на реальних подіях?</p>\r\n                                <label class=\"radio-button-label tabQuestion\" tabindex=\"0\">\r\n                                    <input class=\"radio-button-field\" type=\"radio\" name=\"based-on-true-events\" value=\"true\" id=\"true-story-yes\" tabindex=\"0\" />\r\n                                    <span>Так</span>\r\n                                </label>\r\n                                <label class=\"radio-button-label tabQuestion\" tabindex=\"0\">\r\n                                    <input class=\"radio-button-field\" type=\"radio\" name=\"based-on-true-events\" value=\"false\" id=\"true-story-no\" tabindex=\"0\" />\r\n                                    <span>Ні</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"question-wrapper\">\r\n                            <div class=\"question-number-container\">\r\n                                <span class=\"question-number\">5</span>\r\n                            </div>\r\n                            <div class=\"question-item\">\r\n                                <p class=\"question\" id=\"question-5\">Який фінал більше до вподоби?</p>\r\n                                <label class=\"dropdown-label\">\r\n                                    <select class=\"dropdown-select tabQuestion\" name=\"preferred-ending\" id=\"preferred-ending\" tabindex=\"0\">\r\n                                        <option value=\"Хепі-енд\">Хепі-енд</option>\r\n                                        <option value=\"Драматичний\">Драматичний</option>\r\n                                        <option value=\"Непередбачуваний\">Непередбачуваний</option>\r\n                                        <option value=\"Відкритий\">Відкритий</option>\r\n                                    </select>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button type=\"button\" class=\"button submit-btn\" id=\"submitNewFilters\">\r\n                            Отримати добірку фільмів\r\n                        </button>\r\n\r\n                        `;\r\n\r\n                        const userSelections = []; // Масив для збереження відповідей\r\n\r\n                        document\r\n                            .getElementById(\"submitNewFilters\")\r\n                            .addEventListener(\"click\", () => {\r\n                                event.preventDefault();\r\n                                console.log(\"Hello\");\r\n                                // Отримуємо вибори користувача\r\n                                const location =\r\n                                    document.getElementById(\"location\").value ||\r\n                                    null;\r\n                                const plotComplexity =\r\n                                    document.querySelector(\r\n                                        'input[name=\"plot-complexity\"]:checked',\r\n                                    )?.value || null;\r\n                                const timePeriod = getTimePeriodValue() || null;\r\n                                const basedOnTrueEvents =\r\n                                    document.querySelector(\r\n                                        'input[name=\"based-on-true-events\"]:checked',\r\n                                    )?.value || null;\r\n                                const preferredEnding =\r\n                                    document.getElementById(\"preferred-ending\")\r\n                                        .value || null;\r\n\r\n                                // Форматуємо відповіді у потрібний формат\r\n                                const formattedAnswers = [\r\n                                    location\r\n                                        ? `Події фільму відбуваються у такій локації: ${location}`\r\n                                        : null,\r\n                                    plotComplexity\r\n                                        ? `Сюжет ${\r\n                                              plotComplexity ===\r\n                                              \"Більш легкий та простий\"\r\n                                                  ? \"більш легкий та простий\"\r\n                                                  : \"більш заплутаний та глибокий\"\r\n                                          }`\r\n                                        : null,\r\n                                    timePeriod\r\n                                        ? `Фільм про часовий проміжок: ${timePeriod}`\r\n                                        : null,\r\n                                    basedOnTrueEvents\r\n                                        ? `Фільм ${\r\n                                              basedOnTrueEvents === \"true\"\r\n                                                  ? \"засновано на реальних подіях\"\r\n                                                  : \"не засновано на реальних подіях\"\r\n                                          }`\r\n                                        : null,\r\n                                    preferredEnding\r\n                                        ? `Фінал має бути: ${preferredEnding}`\r\n                                        : null,\r\n                                ];\r\n\r\n                                // Додаємо всі відповіді в масив, фільтруємо null значення\r\n                                const validAnswers = formattedAnswers.filter(\r\n                                    (answer) => answer !== null,\r\n                                );\r\n\r\n                                // Додаємо в масив userSelections\r\n                                userSelections.push(validAnswers);\r\n\r\n                                result = [...results, ...userSelections];\r\n                                localStorage.setItem(\r\n                                    \"movieResults\",\r\n                                    JSON.stringify(result),\r\n                                );\r\n\r\n                                getMovieRecommendations(false);\r\n                            });\r\n\r\n                        // Функція для визначення значення слайдера\r\n                        function getTimePeriodValue() {\r\n                            const sliderValue =\r\n                                document.getElementById(\"time-slider\").value;\r\n                            switch (sliderValue) {\r\n                                case \"0\":\r\n                                    return \"Минуле\";\r\n                                case \"1\":\r\n                                    return \"Теперішнє\";\r\n                                case \"2\":\r\n                                    return \"Майбутнє\";\r\n                                default:\r\n                                    return null; // Якщо слайдер не визначений\r\n                            }\r\n                        }\r\n                    } else {\r\n                        result = [...results];\r\n                        localStorage.setItem(\r\n                            \"movieResults\",\r\n                            JSON.stringify(result),\r\n                        );\r\n\r\n                        getMovieRecommendations(false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nexport default filmsSearch;\r\n","const isOpenNewFilters = (callback) => {\r\n    console.log(\"modal isOpenNewFilters\");\r\n    const modal = document.getElementById(\"isOpenNewFiltersModalWindow\");\r\n    const closeButton = document.querySelector(\"[data-close]\");\r\n    const radioButtons = document.querySelectorAll(\".radio-button-field\");\r\n\r\n    modal.style.display = \"block\";\r\n\r\n    function closeModal() {\r\n        modal.style.display = \"none\";\r\n    }\r\n\r\n    closeButton.addEventListener(\"click\", closeModal);\r\n    window.addEventListener(\"click\", (event) => {\r\n        if (event.target === modal) {\r\n            closeModal();\r\n        }\r\n    });\r\n\r\n    radioButtons.forEach((button) => {\r\n        button.addEventListener(\"change\", () => {\r\n            console.log(\"Вибрано: \" + button.value);\r\n            const isNewFilters = button.value === \"Так\";\r\n            modal.style.display = \"none\";\r\n            callback(isNewFilters);\r\n        });\r\n    });\r\n};\r\n\r\nexport default isOpenNewFilters;\r\n","const newFilters = () => {\r\n    console.log(\"new filters\");\r\n    document.getElementById(\"surveyModal\").style.display = \"flex\";\r\n\r\n    document\r\n        .getElementById(\"closeModal\")\r\n        .addEventListener(\"click\", function () {\r\n            document.getElementById(\"surveyModal\").style.display = \"none\";\r\n        });\r\n\r\n    const form = document.querySelector(\".form\");\r\n    const submitButton = document.getElementById(\"submitNewFilters\");\r\n\r\n    // Видаляємо попередні обробники подій перед додаванням нового\r\n    submitButton.replaceWith(submitButton.cloneNode(true));\r\n    const newSubmitButton = document.getElementById(\"submitNewFilters\");\r\n\r\n    newSubmitButton.addEventListener(\"click\", function (event) {\r\n        event.preventDefault();\r\n\r\n        const responses = [];\r\n\r\n        const location = document.getElementById(\"location\").value;\r\n        if (location)\r\n            responses.push(\r\n                `Події фільму відбуваються у такій локації: ${location}`\r\n            );\r\n\r\n        const plotComplexity = document.querySelector(\r\n            'input[name=\"plot-complexity\"]:checked'\r\n        )?.value;\r\n        if (plotComplexity) responses.push(`Сюжет: ${plotComplexity}`);\r\n\r\n        const timePeriod = document.getElementById(\"time-slider\").value;\r\n        if (timePeriod !== undefined) {\r\n            const timePeriodText = {\r\n                0: \"Минуле\",\r\n                1: \"Теперішнє\",\r\n                2: \"Майбутнє\",\r\n            };\r\n            responses.push(\r\n                `Фільм про часовий проміжок: ${timePeriodText[timePeriod]}`\r\n            );\r\n        }\r\n\r\n        const basedOnTrueEvents = document.querySelector(\r\n            'input[name=\"based-on-true-events\"]:checked'\r\n        )?.value;\r\n        if (basedOnTrueEvents) {\r\n            responses.push(\r\n                `Фільм ${\r\n                    basedOnTrueEvents === \"Так\"\r\n                        ? \"засновано на реальних подіях\"\r\n                        : \"не засновано на реальних подіях\"\r\n                }`\r\n            );\r\n        }\r\n\r\n        const preferredEnding =\r\n            document.getElementById(\"preferred-ending\").value;\r\n        if (preferredEnding)\r\n            responses.push(`Фінал має бути: ${preferredEnding}`);\r\n\r\n        console.log(responses);\r\n    });\r\n};\r\n\r\nexport default newFilters;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import bestFilms from \"./bestFilms\";\r\nimport filmsSearch from \"./filmsSearch/filmsSearch\";\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", function () {\r\n    bestFilms();\r\n    filmsSearch();\r\n});\r\n"],"names":["bestFilms","window","location","search","includes","reload","getBestMovies","url","fetch","then","response","json","data","console","log","handleBestMovies","error","checkDateOnLoading","now","Date","getDate","scheduleNextCheck","nextMidnight","setHours","timeUntilMidnight","setTimeout","setInterval","movies","forEach","movie","index","title","description","rating","poster","descriptionMovie","length","slice","film","document","getElementById","concat","style","backgroundImage","newDescr","createElement","classList","add","innerHTML","toFixed","insertAdjacentElement","carousel","querySelector","rightArrow","leftArrow","addEventListener","scrollBy","left","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","_catch","delegateYield","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","from","isArray","_arrayLikeToArray","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","_createForOfIteratorHelper","_n","F","toString","test","newFilters","isOpenNewFilters","filmsSearch","shortQuestions","question","answers","img","needs","placeholder","isModalOpen","modalTrigger","querySelectorAll","modal","modalOverlay","modalCloseBtn","openModal","body","overflow","closeModal","remove","formWrapper","spinnerContainer","showQuestion","formContainer","submitButton","textContent","btn","code","contains","questions","element","headerContainer","numberTemplate","questionContainer","questionTemplate","lengthArray","moodWrapper","appendChild","isMoodDefault","savedMood","localStorage","getItem","answerTemplate","isPartnerDefault","_iterator","_step","answerText","savedValue","err","sliderTemplate","sliderContainer","labelText","labelElement","answerArray","placeholderArray","savedValues","options","split","map","toUpperCase","checkboxWrapper","className","savedOptions","savedOptionsArray","option","isChecked","result","radioImgs","radio","event","selectedMood","target","setItem","radioFields","selectedRadio","inputFields","input","checkboxFields","checkbox","selectedOptions","checked","join","lowerSlider","upperSlider","message","loading","errorInLoading","errorMessage","modalContainer","errorContainer","errorTemplate","getMovieRecommendations","_getMovieRecommendations","_callee","sandbox","spinnerImg","token","requestBody","requestBodyToken","errorText","recommendations","_args","_callee$","_context","undefined","src","alt","headers","Authorization","JSON","stringify","isConnected","ok","text","alert","href","t0","sendResults","answer","_document$querySelect","getAnswer","answerLower","answerUpper","_document$querySelect2","_document$querySelect3","_document$querySelect4","minYearDefault","maxYearDefault","getFullYear","answerMin","answerMax","selectedGenres","newUserAnswer","errorInputMin","errorInputMax","yearInputMin","yearInputMax","validateYears","yearMin","trim","yearMax","currentYear","isValid","display","border","validity","valid","Number","minSlider","maxSlider","minGap","parseInt","isOpenNewFiltersModalWindow","surveyModalWrapper","preventDefault","results","isOpen","getTimePeriodValue","sliderValue","userSelections","_document$querySelect5","_document$querySelect6","plotComplexity","timePeriod","basedOnTrueEvents","preferredEnding","formattedAnswers","validAnswers","filter","callback","closeButton","radioButtons","button","isNewFilters","form","replaceWith","cloneNode","newSubmitButton","responses","timePeriodText"],"sourceRoot":""}